# fkAnonAi
fkAnonAi - это консольное приложение на C#, которое объединяет распознавание речи, анализ экрана и генерацию текста с помощью API Google Gemini, а также синтез речи для интерактивного взаимодействия. 

Особенности
Распознавание речи: Использует Whisper.net для преобразования речи в текст.

Анализ экрана: Захватывает скриншоты и отправляет их в Google Gemini для анализа и генерации описания.

Генерация текста: Использует модель Google Gemini (gemini-1.5-flash) для генерации ответов в стиле указанном в prompt.txt (по умолчанию установлен промпт GLaDOS), основанных на полученной речи и содержимом экрана.

Синтез речи: Использует sherpa-onnx для преобразования текста в речь и воспроизведения аудио.

Персонализация: Позволяет настраивать системный промпт через файл prompt.txt, а также предоставляет возможность использования пользовательских моделей распознавания речи и синтеза голоса.

Настройка прокси: Поддержка использования прокси-серверов для обхода ограничений сети.

Установка интервала для анализа экрана: Возможность изменения интервала времени для отправки скриншотов на анализ.

Использование


Клонируйте репозиторий (если он у вас есть, или скачайте код).

Скомпилируйте проект с помощью .NET SDK.

Запустите исполняемый файл (fkAnonAi.exe или аналогичный).

Либо скачайте последнию пре-билд версию в releases и запустите fkAnonAi.exe

Параметры запуска
-api <ключ>: Устанавливает ваш API ключ Google Gemini. Если не указан, используется ключ по умолчанию (default_key). Получить свой API ключ можно по ссылке: https://aistudio.google.com/apikey.

-proxy <адрес>:<порт>:<имя пользователя>:<пароль>: Устанавливает параметры прокси-сервера. Можно использовать только адрес:порт, если не требуется аутентификация.

Примеры:

-proxy 127.0.0.1:31112

-proxy 192.168.1.100:8080:myuser:mypassword



Настройка
prompt.txt: В папке с программой создайте файл prompt.txt, в который можно записать пользовательский промпт для настройки персонажа. Если файл отсутствует или пуст, используется стандартный промпт GLaDOS.

models/ru/: Содержит необходимые модели для TTS (текст в речь). Если вы хотите использовать свою модель, поместите ее в эту папку, а так же измените пути на свои в коде.

customwhisper/model.bin: Если вы хотите использовать свою модель для распознавания речи, поместите ее в эту папку. Подробнее о конвертации моделей: https://github.com/sandrohanea/whisper.net.

ggml-small.bin: Если кастомная модель не найдена, скачается базовая ggml-small.bin

Зависимости

Whisper.net

NAudio

GenerativeAI.Net

SherpaOnnx

Требования

.NET SDK 7.0 или выше

Windows (для захвата экрана)

API ключ Google Gemini

Модель TTS в папке models/ru. Можно использовать кастомную модель, либо готовую из https://github.com/k2-fsa/sherpa-onnx/releases/tag/tts-models. Подробнее: https://k2-fsa.github.io/sherpa/onnx/tts/piper.html

Модель распознавания речи формата ggml https://github.com/ggerganov/whisper.cpp/tree/master/models, либо конвертировать pytorch модель.

Замечания

Программа находится в стадии разработки и может содержать ошибки.

Экранный захват в настоящее время поддерживается только на Windows.


Рекомендуется использовать наушники при работе с программой, чтобы избежать эха.